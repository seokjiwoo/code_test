#FE 작업 설정. 

## 들어가기에 앞서
- mater 브런치는 세팅 보존 및 업그레이드 용으로 작업할 예정입니다. 
- 추후 필요한 부분이 늘어나거나 수정 및 삭제가 필요해진다면 master 브런치에서 작업 할 것입니다. 
- 따라서 master 브런치는 타 작업물이 유입되지 않도록 주의 바랍니다. 


1. node 버전 업그레이드 

- node 버전은 최신버전이상인 12 이상으로 사용하고 싶었으나 12버전 설치시 타 작업세팅들(예: fe , fe_old , fe_spc 등)과 충돌을 일으킵니다. 
- node 버전은 최대한 높으면서 타 세팅들과 충돌을 일으키지않는 최상위 버전인 11.15.0 을 사용합니다. 
- 기존의 node를 삭제하여 주시고(컴퓨터 재부팅) node 버전을 업그레이드 하여주십시오. 다운로드 주소는 아래와 같습니다. 
- [v11.15.0](https://nodejs.org/download/release/v11.15.0/)
- 윈도우 버전에 따라 선택하여 다운받아주시면 됩니다. ( 예: window 10 64bit 라면 `node-v11.15.0-x86.msi` )

    ## 타 세팅에서 오류가 발생하게 될경우 아래의 절차를 확인하여주시면 됩니다.    
    1-1. 업그레이드 후 타 세팅에 문제가 생긴다면 
    노드 버전이 업그레이드 되면 기존의 세팅의 모듈들이 오류를 뱉어낼 수 있습니다. 
    그러한 경우 각 세팅의 루트에서 모듈들을 재설치 해주시면 자동으로맞춰질 것입니다. 
    ```
    $ npm i 
    ```

    1-2. 특정 오류가 발생한다면 
    npm 모듈들을 모두 재설치 하였어도 오류가 발생하는 경우가 있을 수 있습니다. 
    예를 들어 sass의 오류인데 기존 fe 세팅은 Ruby Sass(Node 버전 6 에서 sass를 사용하기위한 모듈)를 사용하기에 사용처가 달라서 생기는 오류가 있을 수 있습니다. 
    이러한 경우 node에서 사용하는 sass 모듈을 설치하여주시면 해결됩니다. 
    ```
    $ npm i node-sass
    ```

    1-3. npm(node 모듈 설치 플러그인)의 버전이 낮을 경우
    npm 의 버전을 최신으로 업데이트 해주시면 됩니다. 
    ```
    $ npm cache clean -f
    $ npm i npm@latest -g
    ```

2. packages 인스톨

- 필요한 모듈이나 플러그인들은 package.json 에 저장되어있습니다. 
- `$ npm i` 로 설치하여주시면 됩니다. 

3. 작업환경 실행

- `$ npm run client` 명령어로 서버를 실행해주시면 됩니다. 

    ## 실행시 오류가 발생된다면
    3-1. package.json 에 없는 필요한 npm모듈이 설치되어있지 않는지 에러코드를 통해 깔려있지않은 모듈이 있나 확인하여 설치하여주시면됩니다. 

4. 배포환경 실행

- `$ npm run build` 명령어로 배포파일들을 컴파일합니다.
- 컴파일된 파일들은 'dist' 폴더에 생성됩니다. 

5. 이미지 서버(CDN역할)

- 확인용으로 업로드될 이미지서버를 fe_build 저장소에 생성해두었습니다. 
- 작업이 모두완료되면 필요 이미지들을 fe_build 저장소에 업로드 하여주시면 됩니다. 저장소의 폴더명은 아래와 같습니다. 
- url : http://sun.tmonc.net/view/994.FE/job/FE_BUILD/ws/service_tmon_pads_ui/images/
- 폴더 위치 : service_tmon_pads_ui/images/